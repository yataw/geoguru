(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(7),i=a(2),l=a(3),s=a(5),u=a(4),d=a(6),m=a(1),h=a(8),v=(a(18),{AF:16.63,AL:11.58,DZ:158.97,AO:85.81,AG:1.1,AR:351.02,AM:8.83,AU:1219.72,AT:366.26,AZ:52.17,BS:7.54,BH:21.73,BD:105.4,BB:3.96,BY:52.89,BE:461.33,BZ:1.43,BJ:6.49,BT:1.4,BO:19.18,BA:16.2,BW:12.5,BR:2023.53,BN:11.96,BG:44.84,BF:8.67,BI:1.47,KH:11.36,CM:21.88,CA:1563.66,CV:1.57,CF:2.11,TD:7.59,CL:199.18,CN:5745.13,CO:283.11,KM:.56,CD:12.6,CG:11.88,CR:35.02,CI:22.38,HR:59.92,CY:22.75,CZ:195.23,DK:304.56,DJ:1.14,DM:.38,DO:50.87,EC:61.49,EG:216.83,SV:21.8,GQ:14.55,ER:2.25,EE:19.22,ET:30.94,FJ:3.15,FI:231.98,FR:2555.44,GA:12.56,GM:1.04,GE:11.23,DE:3305.9,GH:18.06,GR:305.01,GD:.65,GT:40.77,GN:4.34,GW:.83,GY:2.2,HT:6.5,HN:15.34,HK:226.49,HU:132.28,IS:12.77,IN:1430.02,ID:695.06,IR:337.9,IQ:84.14,IE:204.14,IL:201.25,IT:2036.69,JM:13.74,JP:5390.9,JO:27.13,KZ:129.76,KE:32.42,KI:.15,KR:986.26,KW:117.32,KG:4.44,LA:6.34,LV:23.39,LB:39.15,LS:1.8,LR:.98,LY:77.91,LT:35.73,LU:52.43,MK:9.58,MG:8.33,MW:5.04,MY:218.95,MV:1.43,ML:9.08,MT:7.8,MR:3.49,MU:9.43,MX:1004.04,MD:5.36,MN:5.81,ME:3.88,MA:91.7,MZ:10.21,MM:35.65,NA:11.45,NP:15.11,NL:770.31,NZ:138,NI:6.38,NE:5.6,NG:206.66,NO:413.51,OM:53.78,PK:174.79,PA:27.2,PG:8.81,PY:17.17,PE:153.55,PH:189.06,PL:438.88,PT:223.7,QA:126.52,RO:158.39,RU:1476.91,RW:5.69,WS:.55,ST:.19,SA:434.44,SN:12.66,RS:38.92,SC:.92,SL:1.9,SG:217.38,SK:86.26,SI:46.44,SB:.67,ZA:354.41,ES:1374.78,LK:48.24,KN:.56,LC:1,VC:.58,SD:65.93,SR:3.3,SZ:3.17,SE:444.59,CH:522.44,SY:59.63,TW:426.98,TJ:5.58,TZ:22.43,TH:312.61,TL:.62,TG:3.07,TO:.3,TT:21.2,TN:43.86,TR:729.05,TM:0,UG:17.12,UA:136.56,AE:239.65,GB:2258.57,US:14624.18,UY:40.71,UZ:37.72,VU:.72,VE:285.21,VN:101.99,YE:30.02,ZM:15.69,ZW:5.57});var E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){if(!a.clickedInMatch){a.clickedInMatch=!0;var t=a.map.pointToLatLng(e.pageX-a.map.container.offset().left,e.pageY-a.map.container.offset().top);Object(m.a)(e.target).attr("class"),a.addMarker(a.id,[t.lat,t.lng]),a.socket.emit("vote",{latLng:[t.lat,t.lng]})}},a.addMarker=function(e,t){var n=a.markers[e];n?n.latLng=t:((n={latLng:t}).style=a.getStyle(e),a.markers[e]=n),a.map.addMarker(e,{latLng:t,style:n.style})},a.getStyle=function(e){return{fill:a.getFillColor(e),stroke:t.Colors.Marker.Stroke}},a.getFillColor=function(e){if(e===a.id)return t.Colors.Marker.Fill.Special[t.MarkerIndexes.ME];if(e===t.MarkerIndexes.ANSWER)return t.Colors.Marker.Fill.Special[t.MarkerIndexes.ANSWER];var n=null,r=(Object.values(a.markers)||[]).map(function(e){return e.style.fill});return t.Colors.Marker.Fill.Other.forEach(function(e){n||-1!==r.indexOf(e)||(n=e)}),n||function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}()},a.onMarkerTipShow=function(e,t,n){var r=a.markers[n].latLng;a.map.tip.text(r[0].toFixed(2)+", "+r[1].toFixed(2))},a.socket=m.c,a.id=a.socket.id,a.clickedInMatch=!1,a.map=null,a.markers={},a.socket.on(m.d.ServerEvents.START,function(){a.clickedInMatch=!1,a.map.removeAllMarkers()}),a.socket.on(m.d.ServerEvents.END,function(e){var n=e.verboseAnswer,r=e.current,c=(e.total,n.answer);n.info;a.addMarker(t.MarkerIndexes.ANSWER,c),Object.keys(r).forEach(function(e){var t=r[e].vote;a.addMarker(e,t)}),a.map.setFocus({lat:c[0],lng:c[1],scale:2,animate:!0})}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height;return c.a.createElement("div",{id:"world-map",className:"mx-auto",style:{width:t,height:a}})}},{key:"componentDidMount",value:function(){this.map=new window.jvm.Map({container:Object(m.a)("#world-map"),map:"world_mill_en",panOnDrag:!0,focusOn:{x:.5,y:.5,scale:2,animate:!0},onMarkerTipShow:this.onMarkerTipShow,series:{regions:[{scale:["#C8EEFF","#0071A4"],normalizeFunction:"polynomial",values:v}]}}),this.map.container.click(this.onClick)}}]),t}(r.PureComponent);E.MarkerIndexes={ANSWER:0,ME:1},E.Colors={Marker:{Fill:{Special:(n={},Object(h.a)(n,E.MarkerIndexes.ANSWER,"#F80C16"),Object(h.a)(n,E.MarkerIndexes.ME,"#F8E23B"),n),Other:["#08F810","#0009F8","#00C5F8","#F800ED","#F88F00","#B1FF0B","#A778FF","#F8CCEF"]},Stroke:"#383f47"}};var f=E,p=a(10),k=(a(9),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onStart=function(e){var t=e.task;a.globalTime=performance.now(),a.setState(Object(p.a)({},t,{time:0})),a.intervalId=setInterval(a.updTime,100)},a.onEnd=function(e){clearInterval(a.intervalId),a.setState({time:0})},a.updTime=function(){a.setState({time:((performance.now()-a.globalTime)/1e3).toFixed(3)})},a.socket=m.c,a.state={city:"city",country:"country",time:0},a.globalTime=performance.now(),a.intervalId=null,a.socket.on(m.d.ServerEvents.START,a.onStart),a.socket.on(m.d.ServerEvents.END,a.onEnd),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e=this.state,t=e.country,a=e.city;return c.a.createElement("div",{className:"mx-auto text-center p-3"},c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:Math.ceil(75*this.state.time)+"%"}},this.state.time)),c.a.createElement("span",{className:"h2"},a),c.a.createElement("span",{className:"h6 text-secondary"},t?" (".concat(t,")"):t))}}]),t}(r.Component)),M=function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.width,e.height,e.data),a=t.total.points,n=t.key,r=t.current;return r=r?Object(p.a)({},r,{dist:r.dist+"km"}):{dist:"< no data >"},c.a.createElement("div",{className:"col",style:{width:"100%",height:"100%",border:"2px solid black"}},"id: ".concat(n.slice(0,5),"\ntotal:").concat(a,"\ncurrent_dist: ").concat(r.dist))}}]),t}(r.Component),O=function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.current,a=e.total,n=e.width;return c.a.createElement("div",{className:"container-fluid",style:{width:n,height:"100%",overflowY:"scroll"}},Object.keys(a).map(function(e){return c.a.createElement("div",{className:"row",key:e,style:{width:"100%",height:"20%"}},c.a.createElement(M,{data:{key:e,current:t[e],total:a[e]}}))}))}}]),t}(r.Component),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onStart=function(){},a.onEnd=function(e){e.verboseAnswer;var t=e.current,n=e.total;a.setState({current:t,total:n})},a.state={current:{},total:{}},m.c.on(m.d.ServerEvents.START,a.onStart),m.c.on(m.d.ServerEvents.END,a.onEnd),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"jumbotron"},c.a.createElement(k,null),c.a.createElement("div",{className:"row",style:{height:400}},c.a.createElement(f,{height:"100%",width:"75%"}),c.a.createElement(O,{height:"100%",width:"25%",current:this.state.current,total:this.state.total}))))}}]),t}(r.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),m.c.on("init",function(e){return Object.assign(m.b,e)}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(b,null)}}]),t}(r.Component);Object(o.render)(c.a.createElement(S,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.2608a845.chunk.js.map